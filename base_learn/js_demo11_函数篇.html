<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jså‡½æ•°</title>
</head>
<body>
<pre>
> demo1 ä¸€èˆ¬æ­£å¸¸å‡½æ•°
function functionName(parameters) {
  æ‰§è¡Œçš„ä»£ç 
}


> demo2 åŒ¿åå‡½æ•°
var x = function (a, b){
    return a + b
}
ä»¥ä¸Šå‡½æ•°å®é™…ä¸Šæ˜¯ä¸€ä¸ª åŒ¿åå‡½æ•° (å‡½æ•°æ²¡æœ‰åç§°)ã€‚å‡½æ•°å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œä¸éœ€è¦å‡½æ•°åç§°ï¼Œé€šå¸¸é€šè¿‡å˜é‡åæ¥è°ƒç”¨


	ğŸ’¡åœ¨ JavaScript ä¸­ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œä½ éœ€è¦é¿å…ä½¿ç”¨ new å…³é”®å­—ã€‚

    <h3>è‡ªè°ƒç”¨å‡½æ•°</h3>
(function () {
    var x = "Hello!!";      // æˆ‘å°†è°ƒç”¨è‡ªå·±
    console.log(x);
})();

    <h3>ç®­å¤´å‡½æ•°</h3>
ES6 æ–°å¢äº†ç®­å¤´å‡½æ•°ã€‚
ç®­å¤´å‡½æ•°è¡¨è¾¾å¼çš„è¯­æ³•æ¯”æ™®é€šå‡½æ•°è¡¨è¾¾å¼æ›´ç®€æ´ã€‚

(å‚æ•°1, å‚æ•°2, â€¦, å‚æ•°N) => { å‡½æ•°å£°æ˜ }

(å‚æ•°1, å‚æ•°2, â€¦, å‚æ•°N) => è¡¨è¾¾å¼(å•ä¸€)
// ç›¸å½“äºï¼š(å‚æ•°1, å‚æ•°2, â€¦, å‚æ•°N) =>{ return è¡¨è¾¾å¼; }


å½“åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œåœ†æ‹¬å·æ˜¯å¯é€‰çš„ï¼š
(å•ä¸€å‚æ•°) => {å‡½æ•°å£°æ˜}
å•ä¸€å‚æ•° => {å‡½æ•°å£°æ˜}

æ²¡æœ‰å‚æ•°çš„å‡½æ•°åº”è¯¥å†™æˆä¸€å¯¹åœ†æ‹¬å·:
() => {å‡½æ•°å£°æ˜}


// ES5
var x = function(x, y) {
     return x * y;
}

// ES6
const x = (x, y) => x * y;


æœ‰çš„ç®­å¤´å‡½æ•°éƒ½æ²¡æœ‰è‡ªå·±çš„ thisã€‚ ä¸é€‚åˆé¡¶ä¸€ä¸ª å¯¹è±¡çš„æ–¹æ³•ã€‚

å½“æˆ‘ä»¬ä½¿ç”¨ç®­å¤´å‡½æ•°çš„æ—¶å€™ï¼Œç®­å¤´å‡½æ•°ä¼šé»˜è®¤å¸®æˆ‘ä»¬ç»‘å®šå¤–å±‚ this çš„å€¼ï¼Œæ‰€ä»¥åœ¨ç®­å¤´å‡½æ•°ä¸­ this çš„å€¼å’Œå¤–å±‚çš„ this æ˜¯ä¸€æ ·çš„ã€‚

ç®­å¤´å‡½æ•°æ˜¯ä¸èƒ½æå‡çš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨ä½¿ç”¨ä¹‹å‰å®šä¹‰ã€‚

ä½¿ç”¨ const æ¯”ä½¿ç”¨ var æ›´å®‰å…¨ï¼Œå› ä¸ºå‡½æ•°è¡¨è¾¾å¼å§‹ç»ˆæ˜¯ä¸€ä¸ªå¸¸é‡ã€‚

å¦‚æœå‡½æ•°éƒ¨åˆ†åªæ˜¯ä¸€ä¸ªè¯­å¥ï¼Œåˆ™å¯ä»¥çœç•¥ return å…³é”®å­—å’Œå¤§æ‹¬å· {}ï¼Œè¿™æ ·åšæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„ä¹ æƒ¯:

const x = (x, y) => { return x * y };    //ç®€åŒ–  const x = (x, y) => x * y;

</pre>

<hr>
<p>å‚æ•°</p>
<pre>
// é»˜è®¤å‚æ•°  æ¯”å¦‚y    //OMG å±…ç„¶ä¸æŠ¥é”™ Pythoné‡Œé¢ å¦‚æœå‚æ•°ä¸å¤Ÿ ç›´æ¥æŠ¥é”™
function myFunction(x, y) {
if (y === undefined) {
  y = 0;
   }
}

// ES5 é‡Œé¢ ç¨å¾®æ­£å¸¸
function myFunction(x, y) {
    y = y || 0;
}

// ES6 å†™æ³•  è¿™ç§å°±æ¯”è¾ƒç¬¦åˆä¹ æƒ¯  å’ŒPythonå¾ˆåƒ
function myFunction(x, y=10) {
    // y is 10 if not passed or undefined
    return x + y;
}

Arguments å¯¹è±¡
JavaScript å‡½æ•°æœ‰ä¸ªå†…ç½®çš„å¯¹è±¡ arguments å¯¹è±¡ã€‚

argument å¯¹è±¡åŒ…å«äº†å‡½æ•°è°ƒç”¨çš„å‚æ•°æ•°ç»„ã€‚

é€šè¿‡è¿™ç§æ–¹å¼ä½ å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ‰¾åˆ°æœ€å¤§çš„ä¸€ä¸ªå‚æ•°çš„å€¼ï¼š


function findMax() {
    var i, max = arguments[0];

    if(arguments.length < 2) return max;

    for (i = 0; i < arguments.length; i++) {
        if (arguments[i] > max) {
            max = arguments[i];
        }
    }
    return max;
}

x = findMax(1, 123, 500, 115, 44, 88);

<hr>
this å…³é”®å­—   ç›¸å½“äº Python selfçš„ç”¨æ³•


</pre>

<hr>
<pre>

è¿™é‡Œæœ‰ä¸€ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼Œå‡½æ•°å†…éƒ¨å£°æ˜å˜é‡çš„æ—¶å€™ï¼Œä¸€å®šè¦ä½¿ç”¨varå‘½ä»¤ã€‚å¦‚æœä¸ç”¨çš„è¯ï¼Œä½ å®é™…ä¸Šå£°æ˜äº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼

// è¦ç†è§£é—­åŒ…ï¼Œé¦–å…ˆå¿…é¡»ç†è§£Javascriptç‰¹æ®Šçš„å˜é‡ä½œç”¨åŸŸã€‚
//å˜é‡çš„ä½œç”¨åŸŸæ— éå°±æ˜¯ä¸¤ç§ï¼šå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚
// http://www.ruanyifeng.com/blog/2009/08/learning_javascript_closures.html
// å‡½æ•°å†…å¯ä»¥è¯»å– å¤–éƒ¨å˜é‡     åœ¨å‡½æ•°å¤–éƒ¨è‡ªç„¶æ— æ³•è¯»å–å‡½æ•°å†…çš„å±€éƒ¨å˜é‡
// function demo2() {
//     // var n = 999;   // ä¸èƒ½è®¿é—®
//     n = 999;          // å¯ä»¥è®¿é—®  ä¸ç”¨var å£°æ˜å˜é‡   è¡¨ç¤ºå…¨å±€å˜é‡  ä¸¥æ ¼æ¨¡å¼ä¸‹ æŠ¥é”™
// }
// alert(n);

function f1() {
    var n = 9999;
    function f2() {
        alert(n)
    }
    return f2;   // æ²¡æœ‰æ‹¬å·
}
var res = f1();
// res();

// åœ¨æœ¬è´¨ä¸Šï¼Œé—­åŒ…å°±æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå‡½æ•°å¤–éƒ¨è¿æ¥èµ·æ¥çš„ä¸€åº§æ¡¥æ¢

å®ƒçš„æœ€å¤§ç”¨å¤„æœ‰ä¸¤ä¸ªï¼Œ
    ä¸€ä¸ªæ˜¯å‰é¢æåˆ°çš„å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œ
    å¦ä¸€ä¸ªå°±æ˜¯è®©è¿™äº›å˜é‡çš„å€¼å§‹ç»ˆä¿æŒåœ¨å†…å­˜ä¸­ã€‚
</pre>



<script>
    // (function () {
    //     var x = "Hello!!";      // æˆ‘å°†è°ƒç”¨è‡ªå·±
    //     console.log(x);
    // })();

    function myFunction(x, y) {
        if (y === undefined) {
            y = 0;
        }
        console.log('myFunction: '+ x, y)
    }
    myFunction(1);

    function demo2(x, y=1) {
        return x + y
    }
    console.log(demo2('demo2: '+ 2));

    function findMax() {
        var max = arguments[0];

        for(var i=0; i < arguments.length; i++ ){
            if(arguments[i] > max){
                max = arguments[i]
            }
        }
        // console.log("max value is: " + max);
        return max
    }
    console.log("max value is: " + findMax(3, 4, 5, 7, 1));
    console.log("--------------------------------------------");
    function windowDemo() {
        // ç›´æ¥this è¿”å›windowå¯¹è±¡
        return this;
    }
    console.log(windowDemo());                // è¿”å› window å¯¹è±¡

    console.log("-------é—­åŒ…-----------------------------------");
    // è¦ç†è§£é—­åŒ…ï¼Œé¦–å…ˆå¿…é¡»ç†è§£Javascriptç‰¹æ®Šçš„å˜é‡ä½œç”¨åŸŸã€‚
    //å˜é‡çš„ä½œç”¨åŸŸæ— éå°±æ˜¯ä¸¤ç§ï¼šå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚
    // http://www.ruanyifeng.com/blog/2009/08/learning_javascript_closures.html
    // å‡½æ•°å†…å¯ä»¥è¯»å– å¤–éƒ¨å˜é‡     åœ¨å‡½æ•°å¤–éƒ¨è‡ªç„¶æ— æ³•è¯»å–å‡½æ•°å†…çš„å±€éƒ¨å˜é‡
    // function demo2() {
    //     // var n = 999;   // ä¸èƒ½è®¿é—®
    //     n = 999;          // å¯ä»¥è®¿é—®  ä¸ç”¨var å£°æ˜å˜é‡   è¡¨ç¤ºå…¨å±€å˜é‡  ä¸¥æ ¼æ¨¡å¼ä¸‹ æŠ¥é”™
    // }
    // alert(n);

    function f1() {
        var n = 9999;
        addN = function () {
            n+=1;
            // alert(n)
        };
        function f2() {
            alert(n)
        }
        return f2;   // æ²¡æœ‰æ‹¬å·
    }
    var res = f1();
    res();
    addN();
    res();
    // åœ¨æœ¬è´¨ä¸Šï¼Œé—­åŒ…å°±æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå‡½æ•°å¤–éƒ¨è¿æ¥èµ·æ¥çš„ä¸€åº§æ¡¥æ¢

    var name = "The Window";

    var object = {
        name : "My Object",

        getNameFunc : function(){
            return function(){
                //  æˆ‘ç†è§£çš„æ˜¯è°ƒç”¨ è¿™ä¸€æ­¥æ—¶ å†…å­˜è¢«é‡Šæ”¾ this æŒ‡å‘çš„æ˜¯å…¨å±€
                return this.name;
            };
        }
    };

    alert(object.getNameFunc()());

    console.log('---------------------------------------------');
    var name = "The Window";
    var object = {
        name : "My Object",

        getNameFunc : function(){
            var that = this;   //  this è¿™ä¸€æ­¥ è¿˜æŒ‡å‘ object  æŠŠthis èµ‹å€¼ç»™å¦å¤–ä¸€ä¸ªå˜é‡that
            return function(){
                return that.name;  // that ä¾æ—§æŒ‡å‘object
            };
        }
    };

    alert(object.getNameFunc()());





</script>

</body>
</html>